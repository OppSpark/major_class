# 11.30.(목) 13week2

![스크린샷 2023-11-30 16.04.15.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.04.15.png)

p(x) :  모든 레코드에 해시 함수가 적용 된 후 주어진 주소에 x개의 레코드가 할당될 학률

![스크린샷 2023-11-30 16.05.05.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.05.05.png)

![스크린샷 2023-11-30 16.07.16.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.07.16.png)

패킹 밀도

- 저장될 레코드의 수 r과 주소의 수 (N)에 대한 비율

패킹 밀도가 100에 가까울 수록 비좁다.

- 패킹 밀도가 높을수록 오버플로우 되는 메소드가 높다
- 

![스크린샷 2023-11-30 16.10.04.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.10.04.png)

500개 레코드 (r)을 랜덤 하게 1000개 주소 (W)를 가진 해시 파일에 저장할 경우

- packking density : r / N = 500 /1000개 = 0.5 = 50% 이다

예측 가능한 사항들 (중요함)

전체 레코드 중 107 / 500 = 21.4% 가 오버플로우 된다.

![스크린샷 2023-11-30 16.11.30.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.11.30.png)

홈 주소가 아닌 주소 공간에 저장된 레코드가 많아질 수록 더 많은 충돌이 발생한다.

### 충돌 해결 기법 :

- 선형 조사법 (linear probing)기법과 (Open addressing) 기법이 있다.

![스크린샷 2023-11-30 16.12.58.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.12.58.png)

충돌 해결 기법 

overflow 레코드 처리 방법

![스크린샷 2023-11-30 16.13.38.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.13.38.png)

키값이 York 가 6번지 주소에 저장하려고 한다.

6번은 이미 Rosen 이 사용중이다.

아래로 순차 탐색을 하며 빈 공간에 저장한다. (9번)

 

![스크린샷 2023-11-30 16.16.04.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.16.04.png)

키값이 blue가 99번지에 저장하려고 한다

99번지는 이미 사용중이다.

마지막 번지의 경우 맨 첫 번째 주소로 이동

해쉬는 기본적으로 O(1) 시간으로 동작함

단 키 충돌이 나서 다른 공간에 저장할 경우 O(N) 시간이 걸린다.

검색 길이문제

시험에 무조건 나옴

![스크린샷 2023-11-30 16.22.04.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.22.04.png)

![스크린샷 2023-11-30 16.22.16.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.22.16.png)

![스크린샷 2023-11-30 16.24.31.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.24.31.png)

해당 값들을 탐색할 때 평균 탐색 시간은 몇인가?

Adams 의 경우 1번 비교

Bates 의 경우 1번 비교

cole 의 경우 2번 비교

Dean 의 경우 2번 비교

Evans 의 경우 5번 비교

평균 검색 길이

(1 + 1 + 2 + 2 + 5) / 5  = 2.2 

![스크린샷 2023-11-30 16.27.42.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.27.42.png)

버킷 기법

버킷
-  같은 주소를 가지는 레코들의 집합체 : 한번의 디스크 I/O로 접근함

![스크린샷 2023-11-30 16.28.16.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.28.16.png)

N은 주소의 수 고 b는 버킷에 저장될 레코드의 수

![스크린샷 2023-11-30 16.28.32.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.28.32.png)

버킷의 크기가 1인 경우 overflow 레코드의 기대 수 :

- 버킷 크기가 1인 경우 222개 (29.6%) 가 오버플로우 된다.

버킷의 크기가 2인 경우 overflow 레코드의 기대 수 :

- 버킷 크기가 2인 경우 140개 (18.7%) 가 오버플로우 된다.

![스크린샷 2023-11-30 16.31.16.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.31.16.png)

버킷 사이즈가 증가할 수록 평균 검색 시간이 줄어든다.

![Untitled](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/Untitled.jpeg)

이전 해당 문제를 버킷 사이즈를 2로 할 경우

(1 + 1 + 1 + 1 + 1 ) / 5 가 되면 시간이 평균 검색 길이가 1로 바뀐다.

![스크린샷 2023-11-30 16.35.01.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.35.01.png)

버킷 구조

![스크린샷 2023-11-30 16.37.49.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.37.49.png)

해시 공간의 크기는 미리 고정되어야 함

- 해시 공간의 크기는 미리 고정되어야함
    - 같은 해시 함수가 사용되는 동안 고정됨( static 해싱) 정적 해싱 깁버
- 레코드 삽입, 삭제, 변경 등으로 레코드 주소와 홈 주소 사이 빈 공간이 발생하면 안됨

![스크린샷 2023-11-30 16.48.47.png](11%2030%20(%E1%84%86%E1%85%A9%E1%86%A8)%2013week2%20051bc482ee7c412eb66a6cb41c1cddc8/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-30_16.48.47.png)