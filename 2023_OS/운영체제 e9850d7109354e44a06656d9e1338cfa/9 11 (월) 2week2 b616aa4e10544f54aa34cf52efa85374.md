# 9.11.(월) 2week2

1. 주기억 장치에 1개의 프로그램 적재 & 실행
    1. 준비시간 은 늘어나고 CPU 활용률은 줄어든다
2. SPOOL
    1. batch system (일괄 처리 시스템)
3. multiprogramming (다중 프로그래밍)

<aside>
💻 multiprogramming (다중 프로그래밍)

</aside>

주기억장치에 2개 이상의 프로그램을 적재 후 2개 이상의 프로그램을 동시에 실행

2개 이상의 프로세스가 있는 것.

1개의 프로그램으로 CPU를 계속 바쁘게 할 수 있을까? (명령어를 실행 후 계속 유지가 가능한가?)

- 값을 입력
- 값을 처리( CPU가 일하는 상태)
- 값을 출력

결론 → CPU 속도가 입출력 속도보다 빠름 → 입출력시 CPU가 동작 안하므로 CPU 가동률이 떨어짐

실선 ———— CPU 가동중

점선  - - - - -  CPU 쉬는중

P1 ——— - - - - - -  ———— - - - - - ——— - - - - - - -

P2 - - - -  ————- - - - -  ———— - - -  - - —————

프로그램을 실행하다 I/O(입출력) 를 요구하면 (기다리지 않고) 다른 프로그램을 실행한다.

ex)

MOV CX ,10      / CX 값에 10을 대입

INPUT DEV      /DEV 로 부터 입력을 받는 명령어

SUB CX , 1        /CX 값에 -1 을 뺀다.

CMP CX , 0     /CX 값이 0이 될때까지 반복

JG L1 

위 코드는 입력이 1초에 10번 입력됨, CPU수행은 1초에 100만번 시행

L1  : TD DEV   /TD = 테스트 디바이스 

JNR L1      / 준비가 안되면 L1으로 간다.  /입력이 완료될때까지 기다리는 시간(busy wasthing 상태)

INPUT DEV   /

SUB CX , 1 

CMP CX , 0

JG L1 

아래 코드는 입력을 한번에 받고 한번에 실행함

입출력(I/O)이 완료 될때까지 기다리지 않고 다른 프로그램을 실행한다.

I/O이 완료 되면  I/O 장치가 CPU에게 신호를 보냄

CPU는 하던 일을 멈추고 그 일을 처리함

이것을 인터럽트라고 함

![Untitled](9%2011%20(%E1%84%8B%E1%85%AF%E1%86%AF)%202week2%20b616aa4e10544f54aa34cf52efa85374/Untitled.jpeg)

<aside>
💻 interrupt( 가로채기, 인터럽트) 와 트랩 , 명령어

</aside>

1번 : 인터럽트

2번 : 트랩

3번 : 명령어

3가지의 공통점 하던 일을 멈추고 조작이 운영체제로 넘어간다.

1. I/O device, power off 감지 장치 - - -   // 하드웨어 인터럽트)
입출력 장치로 부터 CPU에게 신호를 보냄
CPU는 I/O 장치로 부터 신호가 오면 하던 일을 멈추고 다른 일 실행
 - 인터럽트 핸들러, (인터럽트 처리 루틴)   이라고 한다.
2. overflow, divide by zero, 
memory protection violation      → 프로그램을 강제 종료 시킨다.(abort)  // 인터럽트가 아님
그냥 프로그램이 강제종료가 되는것,  오류를 처리하는 것
3. INT 21H ,  SVC   // 명령어 //   이 명령
 운영체제를 부르는 명령어 (슈퍼바이저 콜)  // 
    1. 절대주소 0번지에는 인터럽트 벡터 테이블이 있다.

CPU 스케쥴링

스케쥴링 알고리즘

- Round robin 방식
    - 돌아가면서 델타t 만큼 CPU를 할당함

CPU idle 시간을 방지하기 위해서   MPL을 높인다.

MPL (주기억 장치에 저장 가능한 프로그램의 수)

time sharing system (시분할 시스템)  → Round robin 방식

![Untitled](9%2011%20(%E1%84%8B%E1%85%AF%E1%86%AF)%202week2%20b616aa4e10544f54aa34cf52efa85374/Untitled%201.jpeg)

![Untitled](9%2011%20(%E1%84%8B%E1%85%AF%E1%86%AF)%202week2%20b616aa4e10544f54aa34cf52efa85374/Untitled%202.jpeg)

시작과 끝 사이에 있는 프로그램을 프로세스라고 함

..              이거

P1———- - - -| - - -  ———— - - - - - ——— - - - - - - -

P2 - - - -  ——|——- - - - -  ———— - - -  - - —————

저 사이에 있는 프로그램을 프로세스라고 함