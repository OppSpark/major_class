# 9.13.(수) 2week1

<aside>
💻 파일의 끝 (EOF) 탐지하기 (EOF = end of file)

</aside>

![스크린샷 2023-09-13 오후 2.04.45.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.04.45.png)

![스크린샷 2023-09-13 오후 2.13.10.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.13.10.png)

순차 접근

- read 나 write 함수는 첫 번째 바이트 위치부터 차례대로 읽거나 기록함

탐색에 의한 접근

**seek(source_file, offset) GPT 검색**

<aside>
💻 C 에서

</aside>

![스크린샷 2023-09-13 오후 2.14.29.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.14.29.png)

```
ret_val = fseek(file, byte_offset, origin)
	
origin(int) : 기준위치 (0, 1, 2)
− SEEK_SET(0) : 파일의 시작으로부터 
− SEEK_CUR(1) : 현 지점 부터 
− SEEK_END(2) : 파일의 끝에서부터

result = fseek(file, 374L, SEEK_SET); 
// 코드 해석 :
파일의 시작점으로 부터 374 번지로 파일의 포인터를 옮김
```

C의 경우 포인터가 1개 밖에 없기에 파일을 입, 출력할 때 포인터 하나로 왔다 갔다 움직임

<aside>
💻 C++

</aside>

![스크린샷 2023-09-13 오후 2.18.20.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.18.20.png)

C++ 의 경우 2개의 포인터를 가진다.

- 입력용 get포인터
- 출력용 put 포인터

```
− seekg(offset, origin) : 입력용 
− seekp(offset, origin) : 출력용
   origin : ios::beg, ios::cur, ios::end
```

![스크린샷 2023-09-13 오후 2.19.54.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.19.54.png)

```
RandomAccessFile file =
new RandomAccessFile(“in.jpg”, "rw");
 file.seek(1234L);
 int size = 4096, read_size;   
 byte[] bytes = new byte[size];
 read_size = file.read(bytes);
 file.write(bytes);
```

<aside>
💻 파일에서 특수 문자

</aside>

![스크린샷 2023-09-13 오후 2.21.18.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.21.18.png)

파일을 분류하는 2가지

- 텍스트파일 (text,ascii)
    - 파일이 문자 코드로만 이루어진 파일
    - ex)  VI, txt, cat
- 바이너리 파일(이진 파일)
    - ex) 이미지 파일, 사운드 파일, 동영상 파일 등

특수 문자

- ASCII 코드 중 0 ~ 31번 을 가지는 데이터

end-of-line : CR(Carriage Return:13)+LF(Line Feed:10)

라인피드 

- 개행 문자중 하나로 줄바꿈을 나타내는 제어문자다.

케리지 리턴 

- 라인의 시작 위치로 커서를 이동시키는 제어문자이다.

텍스트파일이

파일에 저장될 때는 1차원 적으로 저장됨   /n /t 을 이용해 넘겨가며 화면에 출력

![스크린샷 2023-09-13 오후 2.35.31.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.35.31.png)

유닉스에서 파일은 바이트의 연속이다.

open, close, read, write, lseek 만 사용하면 된다.

![스크린샷 2023-09-13 오후 2.43.21.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.43.21.png)

전환

ls > output.txt   :   stdout를 일반 파일이 output.txt에 저장

cat < input.txt   :   stdin을 인반 파일은 input.txt로 받음

파이프(파이핑)

프로그램의 출력을 다른 프로그램의 입력으로 연결

ls  |  wc -c : ls

<aside>
💻 Chapter 3. 보조기억장치와 시스템 소프트웨어

</aside>

![스크린샷 2023-09-13 오후 2.49.44.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.49.44.png)

형태 

- DASD  (HDD 등등)
    - 특정 위치의 데이터를 바로 접근
    - 데이터 위치에 상관 없이 동일한 접근 시간
- SASD  (마그네틱 테이프)
    - 데이터를 차례대로 접근
    - 데이터 위치에 따라 접근 시간이 다름
    - 자기 테이프, 테이프 카트리지
- 기타 : Jaz, CD-ROM, DVD-ROM, USB-memory

![스크린샷 2023-09-13 오후 3.06.55.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.06.55.png)

![스크린샷 2023-09-13 오후 3.16.44.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.16.44.png)

<aside>
💻 디스크

</aside>

섹터(sectors) : 디스크에서 읽을 수 있는 가장 작은 단위

디스크2 

![스크린샷 2023-09-13 오후 3.21.57.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.21.57.png)

디스크의 용량(capacity)

- 트랙 용량 =
    - of sectors /track * bytes/sector
- 실린더(cylinder) 용량 =
    - of tracks / cylinder * 트랙 용량
- 드라이브(drive) 용량 =
    - of cylinders * 실린더 용량

![스크린샷 2023-09-13 오후 3.29.02.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.29.02.png)

![스크린샷 2023-09-13 오후 3.31.13.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.31.13.png)

Seek average Read

Seek average Write

![스크린샷 2023-09-13 오후 3.34.01.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.34.01.png)

**50,000개 256 byte 데이터를 가진 파일을 2.1 GB 디스크
에 저장**

HDD 스팩

l # of bytes per sector : 512 

l # of sectors per track : 63 

l # of tracks per cylinder : 16 

l # of cylinders : 4,092

![스크린샷 2023-09-14 오전 11.50.01.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-14_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_11.50.01.png)

**필요한 디스크 공간**

섹터당 2개의 레코드 저장 : 50,000/2 = 25,000개의 섹터

실린더 당 63x16 = 1,008개의 섹터

필요한 실린더의 개수 :

25,000/1,008 = 24.8개의 실린더  

 ==   25개의 실린더가 필요함 // 24개의 실린더 + 808개 의 섹터가 필요함

___ 

계산 공식 시험에 나올 수 있음

![스크린샷 2023-09-13 오후 3.47.22.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.47.22.png)

파일의 관점

- 논리적 관점
    - 연속된 바이트 들
- 물리적 관점
    - 섹터, 트랙, 실린더 상에 저장 됨
        - 일련의 섹터들이 항상 이웃하여 저장되지 않음

인터리빙 계수

![스크린샷 2023-09-13 오후 3.50.37.png](9%2013%20(%E1%84%89%E1%85%AE)%202week1%20cbd4e09a49e242a8881c88db67559d25/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-09-13_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.50.37.png)