# 10.19.(ëª©) 7week2

<aside>
ğŸ’¡ ì§‘ì¤‘ ì•ˆí•˜ê³  í•˜ë£¨ì¢…ì¼ ë†€ì•˜ìŒ

</aside>

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.05.01.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.05.01.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.06.36.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.06.36.png)

<aside>
ğŸ’¡

</aside>

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.08.31.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.08.31.png)

```cpp
// DelimTextBuffer buffer (â€˜|â€™, 1000); // arg. given

buffer.pack (MaryAmes.LastName);
// pack ëŠ” ë²„í¼ í•˜ë‚˜ì— í•„ë“œ í•˜ë‚˜ì”© ì²´ìš°ëŠ” ê²ƒ

buffer.Write (stream);
// stream íŒŒì¼ì— write ê°€ ë˜ë©´ ëœë‹¤.
// 

```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.14.53.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.14.53.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.15.19.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.15.19.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.18.58.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.18.58.png)

ë ìŠ¤ í…ìŠ¤íŠ¸ í•„ë“œëŠ” 

ëª¨ë“  ê¸¸ì´ëŠ” ê°€ë³€ì´ë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.20.02.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.20.02.png)

ê³ ì • ê¸¸ì´ í•„ë“œë¥¼ ìœ„í•œ ë²„í¼ í´ë˜ìŠ¤

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.20.19.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.20.19.png)

// í‹€ë¦° ì •ë³´ ì¼ ìˆ˜ ìˆìŒ 

FieldSize ì— ê³ ì •ê¸¸ì´ê°€ ë³€ìˆ˜ì— ë“¤ì–´ê°

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.23.26.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.23.26.png)

```cpp
class Person
{
public:
    // fields
    char LastName[11];
    char Address[16];
    char FirstName[11];
    char City[16];
    char State[3];
    char ZipCode[10];
    // operations
    Person();
    void Clear();
    static int InitBuffer(FixedTextBuffer &);
    int Unpack(FixedTextBuffer &); 
    int Pack(FixedTextBuffer &) const; //ì–¸íŒ© 1  ê³ ì •ê¸¸ì´ë¡œ Pack í•˜ëŠ” ê²ƒ
    static int InitBuffer(LengthTextBuffer &);
    int Unpack(LengthTextBuffer &);  
    int Pack(LengthTextBuffer &) const; //ì–¸íŒ© 2  ê°€ë³€ ê¸¸ì´ í•„ë“œë¡œ pack
    static int InitBuffer(DelimTextBuffer &);
    int Unpack(DelimTextBuffer &);   
    int Pack(DelimTextBuffer &) const;  //ì–¸íŒ©3   ë”œë¦¬ë¯¸í„°ë¡œ pack
    void Print(ostream &);
};

int Person::Pack(FixedTextBuffer &Buffer) const
{
    int result;
    Buffer.Clear();
    result = Buffer.Pack(LastName);
    result = result && Buffer.Pack(FirstName);
    result = result && Buffer.Pack(Address);
    result = result && Buffer.Pack(City);
    result = result && Buffer.Pack(State);
    result = result && Buffer.Pack(ZipCode);
    return result;
}
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.31.01.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.31.01.png)

ë²„í¼ ìˆ˜ì¤€

ë ˆì½”ë“œ ìˆ˜ì¤€

í•„ë“œ ìˆ˜ì¤€

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.38.07.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.38.07.png)

ëŒ€ì¶© í•´ì„í•  ì¤„ ì•Œì•„ì•¼í•¨

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.39.51.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.39.51.png)

<aside>
ğŸ’¡ C++ ì—ì„œ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë²•

</aside>

```cpp
virtual int Read (istream &) = 0;

// 
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.43.59.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.43.59.png)

```cpp
class VariableLengthBuffer : public IOBuffer
{
public:
    VariableLengthBuffer(int MaxBytes = 1000);
    VariableLengthBuffer(const VariableLengthBuffer &buffer) : IOBuffer(buffer) {}
    int Read(istream &);
    int Write(ostream &) const;
    int SizeOfBuffer() const; // return current size of buffer
};

class DelimFieldBuffer : public VariableLengthBuffer
{
public:
    DelimFieldBuffer(char Delim = -1, int maxBytes = 1000);
    DelimFieldBuffer(const DelimFieldBuffer &buffer); 
		int Pack (const void *field, int size = -1);
    int Unpack(void *field, int maxBytes = -1);

protected:
    char Delim;
    static char DefaultDelim;
};
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.44.46.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.44.46.png)

```cpp
int VariableLengthBuffer ::Read(istream &stream)
{
    if (stream.eof())
        return -1;
    int recaddr = stream.tellg();
    Clear();
    unsigned short bufferSize;
    stream.read((char *)&bufferSize, sizeof(bufferSize));
    if (!stream.good())
    {
        stream.clear();
        return -1;
    }
    BufferSize = bufferSize;
    if (BufferSize > MaxBytes)
        return -1; // buffer overflow 
        stream.read (Buffer, BufferSize);
    if (!stream.good())
    {
        stream.clear();
        return -1;
    }
    return recaddr;
}
int VariableLengthBuffer ::Write(ostream &stream) const
{
    int recaddr = stream.tellp();
    unsigned short bufferSize;
    bufferSize = BufferSize;
    stream.write((char *)&bufferSize, sizeof(bufferSize));
    if (!stream.good())
        return -1;
    stream.write(Buffer, BufferSize);
    if (!stream.good())
        return -1;
    return recaddr;
}
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-19 16.49.54.png](10%2019%20(%E1%84%86%E1%85%A9%E1%86%A8)%207week2%20b113ae7c48d54a0aab3a2796bfc111f7/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-19_16.49.54.png)